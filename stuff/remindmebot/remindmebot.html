<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-115304736-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-115304736-1');
    </script>

    <!-- Required meta tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="shortcut icon" href="img/favicon.ico">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous">

    <title>Iurii Dziuban / Remindmebot</title>

    <!-- JavaScript (Bootstrap etc) -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/js/bootstrap.min.js" integrity="sha384-a5N7Y/aK3qNeh15eJKGWxsqtnX/wWdSZSKp+81YjTmS15nvnvxKHuzaWwXHDli+4" crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
        <p>
            Updated: 02/06/2018 - v.0.4
        </p>

        <p>
            <h4>
                <a href="index.html">Main page</a> | <a href="https://www.facebook.com/RemindMeBot/" target="_blank">Remindmebot on Facebook</a> | <a href="https://github.com/IuriiD/remindmebot" target="_blank">Remindmebot - Github</a>
            </h4>
        </p>

            <div class="accordion" id="accordionExample">

            <div class="card">
                <div class="card-header" id="headingOne">
                  <h5 class="mb-0">
                    <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        <b>Day 1, 17/05.2018 (~5:30) - summary</b>
                    </button>
                  </h5>
                </div>

                <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
                  <div class="card-body">
                    <h4><a name="task">Received a task:</a></h4>

                    <p>
                    "Create chatbot using Node.js, which allows a user to conduct all his reminders - create/delete and reminders alert with an ability to confirm/snooze the reminder.
                    <br>Bot should use LUIS or Dialogflow API for NLU, and bot application must be the only one on a Facebook Page. You should use LUIS/Dialogflow as an API only (use for defining intents and save context).
                    <br>Bot should have “Getting started" feature and use a persistent menu for a basic operation like - create a reminder, show all reminders for today etc.
                    <br>Bot should use structured messages to interact with a user, for example, reminders alert message should be a ""Generic template"" with accept/snooze buttons.
                    <br>You should use ESlint(Airbnb code style config), npm scripts, database (PostgreSQL or MongoDB), environment variables (Dotenv)."
                    </p>

                    <hr>

                    <p>
                        <h4><a name="knowledge">Knowledge before starting the project:</a></h4>
                    </p>

                    <p>
                        <ul>
                            <li>
                                Total coding experience: ~7.5 months / 450 hours, Python
                            </li>
                            <li>
                                MongoDB – 2/10: (using pymongo wrapped for Python; used in 3 miniprojects – <a href="https://iuriid.github.io/#car-price-age-mileage">1</a>, <a href="https://iuriid.github.io/#sharedexpensesbot">2</a>, <a href="https://iuriid.github.io/#fellowtraveler">3</a>)
                            </li>
                            <li>
                                Dialogflow API – 2/10 (using apiai wrapper for Python; <a href="https://iuriid.github.io/#fellowtravele">1</a> miniproject)
                            </li>
                            <li>
                                Chatbots for FB Messenger – 1/10 (<a href="https://www.facebook.com/messages/t/ChartingBot">1</a> chatbot as an integration from Dialogflow, with webhooks on Python)
                            </li>
                        </ul>
                    </p>

                    <hr>

                    <p>
                        <h4><a name="time">Time Limits:</a></h4>
                    </p>
                    <p>
                        Not strict but desired in 1 week. If by Thu., 05/24/2018: ~40 hours (5h/d * 5 weekdays + ~7h/d * 2 days off) because of current job and family ;)
                    </p>

                    <hr>

                    <p>
                        <h4><a name="time">Feeling like</a></h4>
                    </p>

                    <p>
                        <img src="img/rem-1.jpg" class="img-fluid img-thumbnail" style="max-width: 350px">
                    </p>

                    <p>

                    <p>
                        <h4>Summary for Day 1</h4>
                    </p>

                    <p>
                        <b>Set up a general plan of work and preliminary dialog flow for the bot
                        <br>Installed node.js, express (+ request, apiai), WebStorm
                        <br>Got "Hello world" on JS ;)
                        <br>Created a FB page and app, got FB credentials
                        <br>Created Dialogflow's agent
                        <br>Following manual - https://medium.com/crowdbotics/how-to-create-your-very-own-facebook-messenger-bot-with-dialogflow-and-node-js-in-just-one-day-f5f2f5792be5
                        <br>Uploaded code to github - https://github.com/IuriiD/remindmebot.git
                        <br>At the moment messages don't come from FB Messenger to local webhook</b>
                        <br>
                        <br>
                        <br><b>9:12</b>
                        <br>Planning..
                        <br>
                        <br>1)	"Hello world" on JS (Node.js)
                        <br>2)	Write functions:
                        <br>a.	create_reminder(),
                        <br>b.	delete_reminder(N),
                        <br>c.	clear_all_reminders(),
                        <br>d.	show_all_reminders() # for today
                        <br>e.	confirm_reminder(),
                        <br>f.	snooze_reminder() # change time +X min (for eg., 15min)
                        <br>g.	alert_reminder()
                        <br>3)	Create a bot on Dialogflow (DF), get credentials
                        <br>4)	Communication with DF via API, triggering functions
                        <br>

                        <br><b>9:30</b>
                        <br>5)	Contexts and dialog flow:
                        <br>a.	INPUT_CONTEXT = []
                        <br>Greeting (Getting started" feature?): Good day [morning/day/evening], <username>. I'm here to keep track of your reminders. What would you like to do next?
                        <br>Buttons:
                        <br>Display my reminders for today
                        <br>Add a reminder
                        <br>Let's talk/Tell me a joke ;) (SmallTalk/etc, optionally)
                        <br>OUTPUT_CONTEXT = []
                        <br>
                        <br>b.	INPUT_CONTEXT = []
                        <br>User clicked "Display my reminders for today"  - trigger show_all_reminders()
                        <br>Buttons:
                        <br>	Add a reminder
                        <br>	Delete reminder
                        <br>Clear all reminders
                        <br>OUTPUT_CONTEXT = [reminders_shown]
                        <br>
                        <br>c.	INPUT_CONTEXT = [reminders_shown]
                        <br>User clicked "Delete reminder" – ask user to enter a reminder number (integer value will be expected from DF)
                        <br>Buttons:
                        <br>	Cancel
                        <br>	Main menu (Display…/Add a reminder/…)
                        <br>OUTPUT_CONTEXT = [which_reminder_to_delete]
                        <br>
                        <br>d.	INPUT_CONTEXT = [which_reminder_to_delete]
                        <br>User entered something
                        <br>Integer number is expected – if not, tell user that's not a number and to ask to repeat + "Cancel" button
                        <br>In range of reminders quantity – if not, tell user that value entered is incorrect and ask to repeat + "Cancel" button
                        <br>If Ok – trigger delete_reminder(N), trigger show_all_reminders() (for today)
                        <br>Buttons:
                        <br>	Add a reminder
                        <br>	Delete reminder
                        <br>Clear all reminders
                        <br>OUTPUT_CONTEXT = []
                        <br>
                        <br>e.	INPUT_CONTEXT = []
                        <br>User clicked "Add a reminder" – ask user smth like "What to remind you about?" sys.any input is expected
                        <br>Buttons:
                        <br>	Main menu (Display…/Add a reminder/…)
                        <br>OUTPUT_CONTEXT = [reminder_content_input]
                        <br>
                        <br>f.	INPUT_CONTEXT = [reminder_content_input]
                        <br>User entered something (anything) – tell smth like "Got it!"
                        <br>Hold reminder content
                        <br>On which date/time should I set this reminder? – date + time input is expected from DF
                        <br>Buttons:
                        <br>Cancel (go to main menu)
                        <br>OUTPUT_CONTEXT = [reminder_time_input]
                        <br>
                        <br>g.	INPUT_CONTEXT = [reminder_time_input]
                        <br>If not correct – "Sorry but that date/time seems to be incorrect. Could you please enter a valid value? Thanks ;)"
                        <br>Buttons:
                        <br>Cancel (go to main menu)
                        <br>OUTPUT_CONTEXT = [reminder_time_input]
                        <br>
                        <br>h.	INPUT_CONTEXT = [reminder_time_input]
                        <br>If date/time Ok - trigger create_reminder(), save data to DB
                        <br>Inform user "A new reminder 'XXXX' for <date/time> was successfully created. What should I do next?"
                        <br>Buttons:
                        <br>Display my reminders for today
                        <br>Add a reminder
                        <br>Let's talk/Tell me a joke ;) (SmallTalk/etc, optionally)
                        <br>OUTPUT_CONTEXT = []
                        <br>
                        <br><b>10:00</b>
                        <br>Draw a paper scheme of actions
                        <a href="img/rem-2.jpg" target="_blank"><img src="img/rem-2.jpg" class="img-fluid img-thumbnail" style="max-width: 1200px"></a>
                        <br>
                        <br><b>10:30</b>
                        <br>6)	Create a FB page and app, get credentials
                        <br>Backend – FB Messenger interaction
                        <br>
                        <br>Reading
                        <br><a href="https://medium.com/crowdbotics/how-to-create-your-very-own-facebook-messenger-bot-with-dialogflow-and-node-js-in-just-one-day-f5f2f5792be5">How To Create Your Very Own Facebook Messenger Bot with Dialogflow and Node.js In Just One Day</a>
                        <br><a href="https://chatbotsmagazine.com/building-a-facebook-messenger-bot-using-nodejs-heroku-api-ai-8b53c1102531">Building a Facebook Messenger Bot Using Node.js, Heroku & API.AI</a>
                        <br>

                        <br><b>11:00</b>
                        <br>Created a FB Page: <a href="https://www.facebook.com/Remindmebot-191533734823967/">https://www.facebook.com/Remindmebot-191533734823967</a>
                        <br>Created a FB Messenger bot – <b>Remindmebot</b>
                        <br>Generated FB page access token: ####
                        <br>FB App – Callback ULR - https://709fd61d.ngrok.io
                        <br>Verify Token – remindmebot
                        <br>Messages, postbacks
                        <br>

                        <br><b>11:30</b>
                        <br>Trying to install express.js on Ubunty in Vagrant or on Windows
                        <br>npm install express --save
                        <br>Getting CERT_UNTRUSTED error on Ubuntu
                        <br>https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-16-04
                        <br>https://expressjs.com/en/starter/installing.html
                        <br>github - <a href="https://github.com/IuriiD/remindmebot.git">https://github.com/IuriiD/remindmebot.git</a>
                        <br>Bypassing https helped (https://stackoverflow.com/questions/21855035/ssl-error-cert-untrusted-while-using-npm-command?utm_medium=organic&utm_source=google_rich_qa&utm_campaign=google_rich_qa)
                        <br>npm config set strict-ssl false
                        <br>npm install express --save
                        <br>Reading <a href="https://medium.com/@adnanrahic/hello-world-app-with-node-js-and-express-c1eb7cfa8a30">“Hello World!” app with Node.js and Express</a>
                        <br>

                        <br><b>12:00</b>
                        <br>Failing to get 'Hello world' work
                        <br><i>var express = require('express');
                        <br>var app = express();
                        <br>app.get('/', function (req, res) {
                        <br>res.send('Hello World!');
                        <br>});
                        <br>app.listen(3000, function () {
                        <br>console.log('Example app listening on port 3000!');
                        <br>});</i>
                        <br>Didn't work in Ubuntu (in Vagrant on Windows) but works from Windows
                        <br>Getting Cannot GET / error on localhost:3000
                        <br>Installing WebStorm (worked in PyCharm ;)
                        <br>

                        <br><b>12:30</b>
                        <br>So:
                        <br>Hello world from manual (https://medium.com/@adnanrahic/hello-world-app-with-node-js-and-express-c1eb7cfa8a30 ) works, including via ngrok (https://709fd61d.ngrok.io/)
                        <br>Code from manual (https://medium.com/crowdbotics/how-to-create-your-very-own-facebook-messenger-bot-with-dialogflow-and-node-js-in-just-one-day-f5f2f5792be5 ) gives Cannot GET / error (localhost:3000, https://709fd61d.ngrok.io/) >> failing to finish NewPageSubscription on FB

                        <br>
                        <br><b>13:00</b>
                        <br>Article (https://medium.com/crowdbotics/how-to-create-your-very-own-facebook-messenger-bot-with-dialogflow-and-node-js-in-just-one-day-f5f2f5792be5) seems to be a bit incorrect(?)
                        <br>Following comments, changed
                        <br><i>
                        <br>const express = require('express');
                        <br>const bodyParser = require('body-parser');
                        <br>const app = express();
                        <br>app.use(bodyParser.json());
                        <br>app.use(bodyParser.urlencoded({ extended: true }));
                        <br>app.listen(3000, () => console.log('Webhook server is listening, port 3000'));</i>
                        <br>
                        <br>to
                        <br>
                        <br><i>const express = require('express');
                        <br>const bodyParser = require('body-parser');
                        <br>const app = express();
                        <br>const verificationController = require('./controllers/verification');
                        <br>app.use(bodyParser.json());
                        <br>app.use(bodyParser.urlencoded({ extended: true }));
                        <br>app.get('/', verificationController);
                        <br>app.listen(3000, () => console.log('Webhook server is listening, port 3000'));</i>
                        <br>and NewPageSubscription on FB seems to have succeeded
                        <br>
                        <br>Creating a bot on Dialogflow…
                        <br>Remindmebot
                        <br>Client access  token: ###
                        <br>
                        <br><b>13:43</b>
                        <br>npm install apiai —- save
                        <br>npm install request —- save
                        <br>Stop for today - back to main job
                        <br>
                    </p>
                  </div>
                </div>
              </div>

              <div class="card">
                <div class="card-header" id="headingTwo">
                  <h5 class="mb-0">
                    <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        <b>Day 2, 18/05/2018 (~8:00) - summary</b>
                    </button>
                  </h5>
                </div>
                <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
                  <div class="card-body">
                      <b>
                          Codeacademy beginner's course on JS – <a href="https://www.codecademy.com/gigaWhiz78105">from 14% to 56%</a>
                          <br>Spent a lot of time (2+ hours) struggling with software:
                          <br>-	Localhost:3000 in not accessible (failed to fix that; launching server at port 5000);
                          <br>-	It appeared that what I've installed using "apt-get install node" on Ubuntu is not Node.js – reinstalled that (not from the 1st try ;)
                          <br>-	Failed to get ngrok working on Ubuntu (but it works from Windows and that's enough for now)
                          <br>-	Bot recreated according to manual (https://medium.com/crowdbotics/how-to-create-your-very-own-facebook-messenger-bot-with-dialogflow-and-node-js-in-just-one-day-f5f2f5792be5) (run on port 5000, tunneled using ngrok) still doesn't respond to messages from FB Messenger = at the moment my backend doesn't respond to messages from FB
                          <br>Wrote several functions on JS for working with mongoDB - createReminder(),checkForDuplicates(), deleteReminder()
                      </b>
                      <br>
                      <br><b>9:25</b>
                      <br><b>Planning</b>
                      <br>Yesterday I also started an intro course on JS on Codeacademy (https://www.codecademy.com/learn/introduction-to-javascript), current progress = 14% (https://www.codecademy.com/gigaWhiz78105)
                      <br>
                      <br>Plan for the day. 2 main directions:
                      <br>A)	JS – learn basics and try to write necessary functions (see "2)" from yesterday's plan) and
                      <br>B)	Achieve message exchange between FB Messenger, backend (on localhost using ngrok or on Heroku if local problems) and Dialogflow.
                      <br>
                      <br>1.	JS basics (https://www.codecademy.com/learn/introduction-to-javascript) for 1-1:30
                      <br>2.	Functions – JS/express and MongoDB
                      <br>3.	Back to chatbot and manual (https://medium.com/crowdbotics/how-to-create-your-very-own-facebook-messenger-bot-with-dialogflow-and-node-js-in-just-one-day-f5f2f5792be5), achieve at least successful messages exchange between FB Messenger, localhost (or maybe Heroku if unsuccessful) and Dialogflow
                      <br>4.	If #2 and #3 succeed – deploy functions to dialog flow between FBM and backend
                      <br>
                      <br><b>10:00</b>
                      <br>https://www.codecademy.com/learn/introduction-to-javascript - progress 21%
                      <br>
                      <br><b>10:30</b>
                      <br>https://www.codecademy.com/learn/introduction-to-javascript - progress 28%
                      <br>
                      <br><b>11:00</b>
                      <br>https://www.codecademy.com/learn/introduction-to-javascript - progress 35%
                      <br>
                      <br><b>11:30</b>
                      <br>https://www.codecademy.com/learn/introduction-to-javascript - progress 42%
                      <br>
                      <br><b>12:05</b>
                      <br>https://www.codecademy.com/learn/introduction-to-javascript - progress 50%
                      <br>
                      <br><b>12:39</b>
                      <br>https://www.codecademy.com/learn/introduction-to-javascript - progress 56%
                      <br>Stopped at lesson #8 "Objects"
                      <br>
                      <br><b>12:51</b>
                      <br>Looked through 2 articles on MongoDB and nodejs:
                      <br>1)	https://closebrace.com/tutorials/2017-03-02/the-dead-simple-step-by-step-guide-for-front-end-developers-to-getting-up-and-running-with-nodejs-express-and-mongodb
                      <br>2)	https://closebrace.com/tutorials/2017-03-02/creating-a-simple-restful-web-app-with-nodejs-express-and-mongodb
                      <br>
                      <br>Reading:
                      <br>Node.js MongoDB - https://www.w3schools.com/nodejs/nodejs_mongodb.asp
                      <br>Installed MongoDB
                      <br>npm install mongodb (on Ubuntu14.04 in VagrantBox on Windows)
                      <br>Using Mongobooster
                      <br>
                      <br><b>14:30</b>
                      <br>On Day1 I was using node on Windows but want to continue on Ubuntu (as with all my projects) (14.04; in VagrantBox on Win7).
                      <br>But on Ubuntu after installing Node with "apt-get install node" command "$ node somefile.js" did nothing in shell. It appeared that node installed was wrong
                      <br>Solution: https://stackoverflow.com/questions/24721182/when-i-run-node-nothing-happens-the-same-with-forever?utm_medium=organic&utm_source=google_rich_qa&utm_campaign=google_rich_qa
                      <br>(uninstalled node, downloaded 64-bit binary for Linux from http://nodejs.org/download/, added PATH=$PATH:/vagrant/soft/node/bin)
                      <br>
                      <br><i>Another local problem:</i>
                      <br>Can't reach service on 3000 port BUT can on port 5000 (for eg., in my python apps on Flask)
                      <a href="img/rem-3.jpg" target="_blank"><img src="img/rem-3.jpg" class="img-fluid img-thumbnail" style="max-width: 1200px"></a>
                      <br>
                      <br><i>telnet localhost 3000
                      <br>Trying 127.0.0.1...
                      <br>telnet: Unable to connect to remote host: Connection refused</i>
                      <br>
                      <br><i>lsof -i :3000 -n
                      <br>COMMAND  PID USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
                      <br>python  7236 root    4u  IPv4  34677      0t0  TCP *:3000 (LISTEN)</i>
                      <br>
                      <br>Windows firewall turned off
                      <br>Decided to launch chatbot server on port 5000
                      <br>
                      <br><b>16:15</b>
                      <br>Back to MongoDB with JS (https://www.w3schools.com/nodejs/nodejs_mongodb_create_db.asp)
                      <br>Wrote several functions - createReminder(),checkForDuplicates(),deleteReminder()
                      <br>25% time spent but moving very slowly :(
                  </div>
                </div>
              </div>

              <div class="card">
                <div class="card-header" id="headingThree">
                  <h5 class="mb-0">
                    <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        <b>Day 3, 19/05/2018 (~5:00) - summary</b>
                    </button>
                  </h5>
                </div>
                <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">
                  <div class="card-body">
                      <b>
                          The 3rd day was not very productive:
                          <br>- finally sorted out with how to properly install nodejs/npm on Ubuntu
                          <br>- JS/nodejs and MongoDB - wrote 3 functions (nextAlert(), clearAllReminders(), showAllReminders4Today())
                      </b>
                      <br>
                      <br><b>9:02</b>
                      <br>Plans for the day:
                      <br>-	Deal with software problems (node/npm, node-mongodb)
                      <br>-	Continue with functions on js for working with mongodb
                      <br>-	Another try to get FB M and backend exchange messages
                      <br>
                      <br>As I'm still having some problems with node/npm (for eg., getting "SyntaxError: Use of const in strict mode." when executing scripts that work with MongoDB; node v 0.10.25) – decided to reinstall Node.
                      <br>
                      <br>How to Install and Use Node.js and npm (Mac, Windows, Linux)
                      <br>https://www.taniarascia.com/how-to-install-and-use-node-js-and-npm-mac-and-windows/
                      <br>
                      <br>On Win7 64bit installed node-v10.1.0-x64.msi
                      <br>Node 10.1.0
                      <br>Npm 5.6.0
                      <br>Seems to be working Ok. But on Win I will also need to install MongoDB. On Ubuntu (in Vagrant) I already have it and also I'm doing all other projects there, so it would be better (and for perspective) to work in Ubuntu. So
                      <br>
                      <br>Completly uninstall nodejs, npm and node in ubuntu 14.04
                      <br>https://stackoverflow.com/questions/32426601/completly-uninstall-nodejs-npm-and-node-in-ubuntu-14-04?utm_medium=organic&utm_source=google_rich_qa&utm_campaign=google_rich_qa
                      <br>Currently it shows node/nodejs v. 0.10.25, npm v.1.3.10
                      <br>sudo apt-get remove nodejs
                      <br>
                      <br>sudo apt-get remove npm
                      <br>sudo apt-get update
                      <br>And then back to article https://www.taniarascia.com/how-to-install-and-use-node-js-and-npm-mac-and-windows/
                      <br>Installation using Node Version Manager (NVM)
                      <br>Now using node v10.1.0 (npm v5.6.0)
                      <br>
                      <br><b>10:11</b>
                      <br>Recreate a project
                      <br>Later will try to configure node interpreter from Vagrant in WebStorm (https://www.jetbrains.com/help/webstorm/configuring-remote-node-interpreters.html) – so far will use WebStorm only for writing code, execution from shell
                      <br>"dependencies": {
                      <br>"apiai": "^4.0.3",
                      <br>"body-parser": "^1.18.3",
                      <br>"express": "^4.16.3",
                      <br>"mongodb": "^3.1.0-beta4",
                      <br>"request": "^2.86.0"
                      <br>}
                      <br>Functions for MongoDB seem to be working Ok
                      <br>
                      <br><b>10:40</b>
                      <br>One more quick try to get this working https://medium.com/crowdbotics/how-to-create-your-very-own-facebook-messenger-bot-with-dialogflow-and-node-js-in-just-one-day-f5f2f5792be5
                      <br>One more try to get ngrok working on Ubuntu in Vagrant
                      <br>https://www.npmjs.com/package/ngrok
                      <br>npm install ngrok and some other variants fail
                      <br>only this one worked:
                      <br>https://github.com/inconshreveable/ngrok/issues/429
                      <br>sudo npm i -g ngrok --unsafe-perm=true --allow-root
                      <br>https://1627ad0b.ngrok.io
                      <br>
                      <br>So,
                      <br>1)	I'm following the manual https://medium.com/crowdbotics/how-to-create-your-very-own-facebook-messenger-bot-with-dialogflow-and-node-js-in-just-one-day-f5f2f5792be5
                      <br>2)	My webhook is listening on port 5000, localhost:5000 tunnelled with ngrok to https://1627ad0b.ngrok.io (can be tested in browser)
                      <br>3)	Messages from FB M still don't come :(
                      <br>
                      <br><b>11:40</b>
                      <br>Back to js and mongodb
                      <br>
                      <br><b>15:47</b>
                      <br>Off-topic: https://da-14.com/blog/python-vs-nodejs-which-better-your-project
                      <br>
                      <br><b>19:27</b>
                      <br>Wrote functions:
                      <br>nextAlert()
                      <br>clearAllReminders()
                      <br>showAllReminders4Today()
                  </div>
                </div>
              </div>

                <div class="card">
                    <div class="card-header" id="headingFour">
                        <h5 class="mb-0">
                            <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                <b>Day 4, 20/05/2018 (~5:00) - summary</b>
                            </button>
                        </h5>
                    </div>
                    <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordionExample">
                        <div class="card-body">
                            <b>Continued with codecademy's cource on javascript (57%>>78%)
                            <br>Finally managed to get the bot built according to manual https://goo.gl/Fi7Zwo work (get messages from FB Messenger, pass them to Dialogflow and return the response)</b>
                            <br>
                            <br><b>9:20</b>
                            <br>Plan for the day:
                            <br>-	Continue with functions to deal with mongoDB
                            <br>-	Test another example of chatbot for FBM on Node.js
                            <br>
                            <br><b>9:34</b>
                            <br>Following article https://www.sitepoint.com/building-facebook-chat-bot-node-heroku/
                            <br>Ok, this thing at least responds (though with ' Sorry, I don't understand your request.') though some moments didn't work (like adding a Get Started button – gives response
                            <br><i>Sorry, something went wrong. We're working on it and we'll get it fixed as soon as we can.</i>
                            <br>Next try in this direction will be to combine this manual with that previous one (https://medium.com/crowdbotics/how-to-create-your-very-own-facebook-messenger-bot-with-dialogflow-and-node-js-in-just-one-day-f5f2f5792be5)
                            <br>
                            <br><b>12:08</b>
                            <br>https://www.codecademy.com/learn/introduction-to-javascript - progress 64%
                            <br>
                            <br><b>13:24</b>
                            <br>https://www.codecademy.com/learn/introduction-to-javascript - progress 71%
                            <br>
                            <br><b>15:38</b>
                            <br>https://www.codecademy.com/learn/introduction-to-javascript - progress 78%
                            <br>
                            <br>Bot built according to manual https://medium.com/crowdbotics/how-to-create-your-very-own-facebook-messenger-bot-with-dialogflow-and-node-js-in-just-one-day-f5f2f5792be5) is finally working! My guess is that (what is NOT said in the article) in "Webhooks" section app should be subscribed to the page.
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header" id="headingFive">
                        <h5 class="mb-0">
                            <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                <b>Day 5, 21/05/2018 (~7:00) - summary</b>
                            </button>
                        </h5>
                    </div>
                    <div id="collapseFive" class="collapse" aria-labelledby="headingFive" data-parent="#accordionExample">
                        <div class="card-body">
                            <b>Spent the day (~7:00) rewriting [createReminder()] and writing functions to work with DB [ifReminderIsToday(),  showAllReminders4Today(),  snoozeReminder()]. Spent >1.5h trying to determine strange behavior of one function working with DB before came to know that it's because of asynchronous mechanism of JS (as distinct from Python).
                            <br>Played a bit with code for the bot analyzing messages coming from FB Messenger and Dialogflow.</b>
                            <br>
                            <br><b>Tasks for the day:</b>
                            <br>-	Finish with functions
                            <br>-	Structured messages on FB, dialog flow
                            <br>
                            <br><b>9:01-17:00</b>
                            <br>Coding functions - new ifReminderIsToday(),  showAllReminders4Today(),  snoozeReminder()
                            <br>Resources used:
                            <br>https://www.w3schools.com/nodejs/nodejs_mongodb.asp
                            <br>https://www.w3schools.com/jsref/jsref_obj_date.asp
                            <br>etc.
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header" id="headingSix">
                        <h5 class="mb-0">
                            <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                                <b>Day 6, 22/05/2018 (~7:00) - summary</b>
                            </button>
                        </h5>
                    </div>
                    <div id="collapseSix" class="collapse" aria-labelledby="headingSix" data-parent="#accordionExample">
                        <div class="card-body">
                            <b>Finished writing functions. Learned to use promises to make functions execute in the proper order. Bot can display reminders for today, add reminder, small-talk, clear all reminders (almost finished).</b>
                            <br>
                            <br><b>Plan for the day:</b>
                            <br>-	Finish with functions
                            <br>-	FB Messenger – structured messages, connect to backend
                            <br>
                            <br><b>9:20</b>
                            <br>Finished function snoozeReminder()
                            <br>
                            <br><b>12:44</b>
                            <br>Spent ~2h reading about ways to deal with asynchronous way JS works (query to DB finishes after functions that should present results of this query).
                            <br>Reading:
                            <br>https://developers.google.com/web/fundamentals/primers/promises
                            <br>
                            <br>https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise
                            <br>
                            <br>https://stackoverflow.com/questions/5010288/how-to-make-a-function-wait-until-a-callback-has-been-called-using-node-js?utm_medium=organic&utm_source=google_rich_qa&utm_campaign=google_rich_qa
                            <br>
                            <br>https://github.com/luciotato/waitfor-ES6
                            <br>
                            <br>https://github.com/kriskowal/q
                            <br>Sleepy…
                            <br>
                            <br><b>13:20</b>
                            <br>Finally managed using this example https://pastebin.com/s96L3kPp and one my brother's script.
                            <br>
                            <br><b>16:40</b>
                            <br>Bot can display reminders for today, add reminder, small-talk, clear all reminders (almost finished).
                            <a href="img/rem-4.jpg" target="_blank"><img src="img/rem-4.jpg" class="img-fluid img-thumbnail" style="max-width: 1200px"></a>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header" id="headingSeven">
                        <h5 class="mb-0">
                            <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseSeven" aria-expanded="false" aria-controls="collapseSeven">
                                <b>Day 7, 23/05/2018 (~7:00) - summary</b>
                            </button>
                        </h5>
                    </div>
                    <div id="collapseSeven" class="collapse" aria-labelledby="headingSeven" data-parent="#accordionExample">
                        <div class="card-body">
                            <b>Using text commands bot can:
                            <br>-	Show reminders
                            <br>-	Add reminders
                            <br>-	Clear all reminders
                            <br>-	Delete a specific reminder
                            <br>Added "Get started" button (without handler so far) and Greeting text. Adding Persistent Menu using CURL request and API Explorer gives "result: success" but persistent menu doesn't show up. Read about generic messages.
                            </b>
                            <br>
                            <br><b>Plan for the day:</b>
                            <br>-	Continue 'connecting' backend to FB Messenger (text commands, structured messages, persistent menu, getting started feature)
                            <br>
                            <br>8:50
                            <br>Morning reading (unread yesterday/earlier):
                            <br>https://learn.javascript.ru/promise
                            <br>btw nice resource https://learn.javascript.ru/
                            <br>
                            <br>16:46
                            <br>Using text commands bot can:
                            <br>-	Show reminders
                            <br>-	Add reminders
                            <br>-	Clear all reminders
                            <br>-	Delete a specific reminder
                            <br>Problems with adding persisntent menu:
                            <br>https://stackoverflow.com/questions/44338774/facebook-new-nested-persistence-menu-not-working?utm_medium=organic&utm_source=google_rich_qa&utm_campaign=google_rich_qa
                            <br>>>
                            <br>https://i.stack.imgur.com/WPHEY.png
                            <br>>>
                            <br>https://developers.facebook.com/tools/explorer/
                            <br>I get "result: success" but don't see persistent menu in my chatbot
                            <br>At the moment the bot looks like that:
                            <a href="img/rem-5.jpg" target="_blank"><img src="img/rem-5.jpg" class="img-fluid img-thumbnail" style="max-width: 1200px"></a>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header" id="headingEight">
                        <h5 class="mb-0">
                            <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseEight" aria-expanded="false" aria-controls="collapseEight">
                                <b>Day 8, 24/05/2018 (~5:30) - summary</b>
                            </button>
                        </h5>
                    </div>
                    <div id="collapseEight" class="collapse" aria-labelledby="headingEight" data-parent="#accordionExample">
                        <div class="card-body">
                            <b>Most features done. "Hello world" on JS was ~50h ago. What's left: alarming/confirming/snoozing reminders. Also so far I failed to add button or generic templates (don't know why – tried several variants) so for now I'm using quick replies. Hope to finish in 1d.
                            </b>
                            <br>
                            <br><b>Tasks for the day:</b>
                            <br>-	Persistent menu +
                            <br>-	Handling callbacks from "Get started"(+) and other buttons(+)
                            <br>-	Function for alerting reminders(-)
                            <br>-	Present [preliminary] results
                            <br>
                            <br><b>9:28</b>
                            <br>Trying to handle button clicks by myself
                            <br>Hey, persistent menu is working! Looks like it may need some time to appear(?)
                            <br>
                            <br><b>14:30</b>
                            Back to main work (5:30)
                            <a href="img/rem-6.jpg" target="_blank"><img src="img/rem-6.jpg" class="img-fluid img-thumbnail" style="max-width: 900px"></a>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header" id="headingNine">
                        <h5 class="mb-0">
                            <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseNine" aria-expanded="false" aria-controls="collapseNine">
                                <b>Day 9, 25/05/2018 (~9:00) - summary</b>
                            </button>
                        </h5>
                    </div>
                    <div id="collapseNine" class="collapse" aria-labelledby="headingNine" data-parent="#accordionExample">
                        <div class="card-body">
                            <b>Plan for the day:</b>
                            <br>-	Reminders alerting/confirming/snoozing;
                            <br>-	Bug fixing and improving;
                            <br>-	Presentation
                            <br>
                            <br><b>09:06</b>
                            <br>Button template is working – found a silly syntax mistake.
                            <br>
                            <br><b>18:12 (~9:00)</b>
                            <br>I did my best to finish a bot with main features requested today but unfortunately failed. Up to 3:00 were spent trying to "promisify" a rather complicated function with nested loops and DB requests. Finally I did that. At this moment RemindMeBot is able to:
                            <br>-	Add reminders;
                            <br>-	Remove a chosen reminder;
                            <br>-	Clear all reminders;
                            <br>-	Alert reminders (checks are done every 1 minute);
                            <br>-	Has "Getting started" feature, persistent menu, uses button template.
                            <br>Confirming/snoozing alerts is left – (buttons are done, their handling is done but I can't get updates to DB. Also text and button responses from the bot are sometimes mixed up though they are presented using promises (need to find out why).
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header" id="headingTen">
                        <h5 class="mb-0">
                            <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseTen" aria-expanded="false" aria-controls="collapseTen">
                                <b>Day 10, 26/05/2018 (~1:30) - summary</b>
                            </button>
                        </h5>
                    </div>
                    <div id="collapseTen" class="collapse" aria-labelledby="headingNine" data-parent="#accordionExample">
                        <div class="card-body">
                            <b>Finished alerts snoozing/confirming. Main features are done.
                            <br>Some additional features are needed (like checking the number of reminder to be deleted if it's in range of existing reminders etc) and checking/polishing and code cleaning.
                            <br>Deployment to Heroku or my server.
                            <br>Think to present results on Mon. (weekend might be not the best time ;)
                            </b>
                        </div>
                    </div>
                </div>

            </div>
        </p>

    </div>
</body>
</html>